/* landing.php */
:root{
  --mint: #a7d7c5;
  --lavender: #e6e6fa;
  --lavender-dark: #c5b3e6;
  --header-h: 140px;
}
.landing-wrap{
  padding: var(--header-h) 16px 24px;
  max-width: 960px; margin: 0 auto;
}
.hero{
  background:#fff; border:2px solid var(--mint); border-radius:16px; padding:24px;
  box-shadow:0 4px 10px rgba(0,0,0,.05); display:grid; gap:16px;
}
.hero h1{ font-size:22px; margin:0; color:#2c2c2c; }
.hero p{ margin:0; color:#444; }

.features{ margin:12px 0; padding:0; list-style:none; display:grid; gap:8px; }
.features li{ padding-left:1.2em; position:relative; }
.features li::before{ content:"✔"; position:absolute; left:0; color:var(--mint); font-weight:bold; }

.cta{ display:grid; gap:12px; margin-top:10px; grid-template-columns:1fr; }
@media (min-width:640px){ .cta{ grid-template-columns: 1fr 1fr; } }

.btn{ display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:14px; border-radius:12px; text-decoration:none; font-weight:700; font-size:15px; border:2px solid transparent; transition: all .2s ease; text-align:center;}
.btn-primary{ background:#5aa58b; color:#fff; border-color:#5aa58b; }
.btn-primary:hover{ background:#4a8c76; }
.btn-secondary{ background: var(--lavender); border-color: var(--lavender-dark); color:#333; }
.btn-secondary:hover{ background: var(--lavender-dark); color:#fff; }

.note{ font-size:13px; color:#444; background:#fff7ed; border:1px solid #fed7aa; border-radius:10px; padding:10px; margin-top:10px; }
.sub-links{ margin-top:14px; font-size:14px; color:#555; }
.sub-links a{ color: var(--lavender-dark); font-weight:600; }

/* auth (login / register) */
.auth-card{max-width:420px;margin:40px auto;padding:20px;border:1px solid #eee;border-radius:12px;background:#fff}
.auth-card h1{font-size:20px;margin-bottom:12px}
.field{margin:10px 0}
.auth-card label{display:block;font-weight:600;margin-bottom:4px}
input[type=email],input[type=password]{width:100%;padding:10px;border:1px solid #ddd;border-radius:8px}
.auth-card .btn{display:inline-block;padding:10px 14px;border:0;border-radius:10px;background:#17a877;color:#fff;font-weight:700;cursor:pointer}
.errors{background:#fff5f5;border:1px solid #fecaca;color:#9b1c1c;border-radius:8px;padding:10px;margin-bottom:10px}
.links{margin-top:10px}

/* points.php */
.points-header{ background:#a7d7c5; padding:1.2em; text-align:center; margin:0 0 20px; color:#fff; }
.points-card{ background:#fff; border:1px solid #e5f1ec; border-radius:12px; padding:16px; margin:16px auto; max-width:640px; box-shadow:0 4px 16px rgba(0,0,0,.05); }
.level { font-size:1.2rem; margin-bottom:8px; }
.bar { background:#eaf6f2; border-radius:999px; height:18px; overflow:hidden; }
.bar > .fill { height:100%; width:0; background:#76c7b0; transition:width .6s ease; }
.meta { display:flex; justify-content:space-between; margin-top:8px; font-size:.9rem; color:#555; }
.nums { display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:8px; }
.nums .box { background:#f7fffb; border:1px solid #e1f3ee; border-radius:8px; padding:10px; text-align:center; }
.big { font-size:1.4rem; font-weight:700; }
.points-actions .btn{ display:inline-block; padding:.6em 1.2em; border-radius:8px; background:#76c7b0; color:#fff; text-decoration:none; }
.points-actions .btn:hover{ background:#5db9a1; }

/* read_all.php */
.card.card-flex{ display:grid; grid-template-columns: 1fr 72px; gap:12px; align-items:center; }
.card-body{ min-width:0; overflow-wrap:anywhere; }
.card-body .meta{ color: var(--muted); font-size: .9rem; margin-bottom:.2rem; }
.support-area{ display:flex; flex-direction:column; align-items:center; justify-content:center; row-gap:6px; width:72px; min-width:72px; }
.support-count{ font-size:12px; color:var(--muted); text-align:center; }
.support-btn{ border:0; background:transparent; padding:0; cursor:pointer; line-height:0; touch-action:manipulation; }
.support-btn img{ display:block; width:44px; height:auto; transition: transform .15s, opacity .15s; }
.support-btn:active img{ transform: scale(.92); }
.support-btn.is-on img{ opacity:.85; }
@media (max-width: 360px){
  .card.card-flex { grid-template-columns: 1fr 64px; }
  .support-area { width: 64px; min-width: 64px; }
  .support-btn img { width: 40px; }
}

/* read.php */
.read-wrap fieldset{
  max-width: 500px; margin: auto; background:#fff; padding:20px;
  border:none; border-radius:8px; box-shadow:0 0 5px rgba(0,0,0,0.1);
}
.read-wrap legend{ font-size:1.2em; margin-bottom:10px; font-weight:bold; }
.read-wrap .card { background:#fdfdfd; border:1px solid #ddd; border-radius:6px; margin-bottom:15px; box-shadow:0 0 3px rgba(0,0,0,0.05); }
.read-wrap .card-header { background:#e9ecef; padding:8px 12px; font-weight:bold; border-bottom:1px solid #ddd; }
.read-wrap .card-body { padding:10px 12px; }
.read-wrap .card-body p{ margin:4px 0; }

.button_box{ display:flex; justify-content:space-between; line-height:30px; }
.button{
  width:50%; height:30px; text-align:center; background:rgb(222,231,240);
  border-radius:6px; box-shadow:0 0 3px rgba(0,0,0,0.1); margin:2px;
}
.button a{ display:block; color:rgb(44,44,44); }
.button:hover{ background: gray; }
.button a:hover{ color:#fff; text-decoration:none; }

/* qr_bulk.php */
.qr-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;}
.qr-card{border:1px solid #ddd;border-radius:8px;padding:12px;}
.qr-gid{font-weight:600;}
.qr-print-note{color:#666;margin-bottom:12px;}
@media print {.qr-controls{display:none;}}

/* qr.php */
.qr-single{ padding:24px; }

/* ====== コンパクト版 Articles（統合・最終） ====== */

/* 見出しを小さめに */
.compact-articles h2{font-size:18px;margin:4px 0 2px;}
.compact-articles h3{font-size:14px;margin:0 0 6px;}

/* 折りたたみ枠 */
.compact-articles details.filters{
  margin:6px 0 8px; border:1px solid rgba(0,0,0,.08);
  border-radius:10px; background:#fff;
}
.compact-articles details.filters>summary{
  list-style:none; cursor:pointer; padding:8px 12px;
  -webkit-user-select:none; user-select:none;
  display:flex; align-items:center; gap:8px; font-size:14px; font-weight:600;
}
.compact-articles details.filters[open]>summary{ border-bottom:1px solid rgba(0,0,0,.06); }

/* フィルタバー：横並び＆高さ揃え */
.compact-articles .filter-bar{
  display:flex; flex-wrap:wrap; gap:8px 10px;
  align-items:center; padding:8px; margin:0;
}

/* 共通高さ */
.compact-articles .filter-bar select,
.compact-articles .filter-bar input[type="search"],
.compact-articles .filter-bar .btn{
  height:34px; font-size:14px; border-radius:8px;
}

/* セレクト2つを横並びに（幅を固定／伸びすぎ防止） */
.compact-articles .filter-bar .selects{ display:flex; gap:8px; flex:0 0 auto; }
.compact-articles .filter-bar .selects select{
  width:auto !important;       /* 100%指定の上書き */
  flex:0 0 180px;               /* ベース幅 */
  max-width:220px;
  padding:0 10px;
}

/* 検索は余白に応じて広がる */
.compact-articles .filter-bar input[type="search"]{
  width:auto !important; min-width:180px; max-width:260px;
  flex:1 1 220px; padding:0 10px;
}

/* 「未読のみ」ラベル：block指定の影響を打消し */
.compact-articles .filter-bar label{
  display:inline-flex; align-items:center; gap:6px; margin:0; font-size:13px;
}
.compact-articles .filter-bar .check{ height:34px; padding:0 4px; }
.compact-articles .filter-bar .check input{ margin:0; }

/* ボタン */
.compact-articles .filter-bar .btn{
  display:inline-flex; align-items:center; padding:0 12px;
}

/* カード（小ぶり） */
.compact-articles .grid{
  display:grid; gap:10px; grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
}
.compact-articles .card.article{ padding:10px; border-radius:10px; }
.compact-articles .card.article .thumb{ width:100%; height:120px; object-fit:cover; border-radius:8px; }
@media (min-width:640px){ .compact-articles .card.article .thumb{ height:140px; } }
@media (min-width:960px){ .compact-articles .card.article .thumb{ height:160px; } }
.compact-articles .title{ font-size:15px; line-height:1.35; margin:8px 0 4px; }
.compact-articles .meta{ font-size:12px; opacity:.75; }
.compact-articles .badge{ padding:1px 7px; font-size:11px; border-radius:999px; }

/* ページャ */
.compact-articles .pager{ display:flex; gap:6px; justify-content:center; margin:12px 0; }
.compact-articles .pager a, .compact-articles .pager span{
  padding:4px 8px; border:1px solid #ddd; border-radius:6px; font-size:13px;
}
.compact-articles .is-current{ background:#eef6f4; font-weight:600; }

/* スマホ時は自然に折返し、検索優先で広げる */
@media (max-width:480px){
  .compact-articles .filter-bar .selects select{ flex:1 1 160px; }
  .compact-articles .filter-bar input[type="search"]{
    flex:1 1 240px; min-width:160px; max-width:none;
  }
}

/* モバイルで閉じ表示にしたい場合（任意） */
@media (max-width:767px){
  .compact-articles details.filters:not([open]){ overflow:hidden; }
}

/* === Articles ヘッダーUIを他ページと完全同寸に固定 === */
.compact-articles .header-actions{
  display:inline-flex;
  align-items:center;
  gap:10px;
}

/* バッジ（未登録モード/ログイン中） */
.compact-articles .header-actions .badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size:14px;          /* 他ページ基準 */
  line-height:1;
  padding:6px 10px;        /* 角の丸み・内側余白を合わせる */
  border-width:2px;        /* 枠ありデザインと高さを合わせる */
  box-sizing:border-box;   /* 厚み分で高さが変わらないように */
}

/* 小ボタン（ログイン/登録/ログアウト） */
.compact-articles .header-actions .btn-sm{
  display:inline-flex;
  align-items:center;
  font-size:14px;          /* 他ページ基準 */
  line-height:1;
  padding:8px 14px;        /* base .btn の14pxと整合 */
  border-radius:8px;
  box-sizing:border-box;
}

/* QRリンクのベースライン合わせ */
.compact-articles .header-actions .link-qr{
  display:inline-flex;
  align-items:center;
  font-size:14px;
  line-height:1;
  padding:0 2px;           /* ボタンと高さ感を合わせる微調整 */
  text-underline-offset:3px;
}

/* ロゴ高さは固定（幅属性の影響を打ち消し） */
.compact-articles .brand__link img{
  height:44px;
  width:auto !important;
  display:block;
}

/* ===== articles（compact-articles）でもヘッダーを共通サイズに固定 ===== */
.layout.compact-articles header.site-header{
  font-size: 16px !important;      /* ベースを固定（継承差をリセット） */
  line-height: 1.1 !important;
}

/* バッジ（未登録モード / ログイン中） */
.layout.compact-articles header.site-header .badge{
  font-size: 14px !important;
  line-height: 1 !important;
  padding: 6px 10px !important;
  box-sizing: border-box !important;
}

/* ボタン（ログイン/登録/ログアウト） */
.layout.compact-articles header.site-header .btn-sm,
.layout.compact-articles header.site-header .btn{
  font-size: 14px !important;
  line-height: 1 !important;
  padding: 8px 14px !important;    /* 他ページと同寸 */
  border-radius: 8px !important;
}

/* QRリンク */
.layout.compact-articles header.site-header .link-qr{
  font-size: 14px !important;
  line-height: 1 !important;
  text-underline-offset: 3px !important;
  padding: 0 2px !important;
}

/* ロゴは高さ基準で統一（HTMLの width 属性を無効化） */
.layout.compact-articles header.site-header .brand__link img{
  height: 44px !important;
  width: auto !important;
  display: block;
}